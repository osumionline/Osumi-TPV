<div class="filtros">
    <mat-form-field subscriptSizing="dynamic">
        <mat-label>Proveedor</mat-label>
        <mat-select [(ngModel)]="buscador.idProveedor"
                    (ngModelChange)="buscar()">
            <mat-option *ngFor="let proveedor of ps.proveedores"
                        [value]="proveedor.id">
                {{proveedor.nombre}}
            </mat-option>
        </mat-select>
    </mat-form-field>
    <mat-form-field subscriptSizing="dynamic">
        <mat-label>Marca</mat-label>
        <mat-select [(ngModel)]="buscador.idMarca"
                    (ngModelChange)="buscar()">
            <mat-option *ngFor="let marca of ms.marcas"
                        [value]="marca.id">
                {{marca.nombre}}
            </mat-option>
        </mat-select>
    </mat-form-field>
    <mat-form-field class="nombre"
                    subscriptSizing="dynamic">
        <mat-label>Nombre, etiquetas...</mat-label>
        <input [(ngModel)]="buscador.nombre"
               (keyup)="buscar()"
               matInput>
    </mat-form-field>
</div>

<table mat-table
       [dataSource]="inventarioDataSource"
       matSort
       (matSortChange)="cambiarOrden($event)"
       class="mat-elevation-z2 ">

    <!-- Localizador -->
    <ng-container matColumnDef="localizador">
        <th mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            sortActionDescription="Ordenar por localizador">
            Localizador
        </th>
        <td mat-cell
            *matCellDef="let element"> {{element.localizador}} </td>
    </ng-container>

    <!-- Marca -->
    <ng-container matColumnDef="marca">
        <th class="center"
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            sortActionDescription="Ordenar por marca">
            Marca
        </th>
        <td class="center"
            mat-cell
            *matCellDef="let element"> {{element.marca}} </td>
    </ng-container>

    <!-- Referencia -->
    <ng-container matColumnDef="referencia">
        <th class="center"
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            sortActionDescription="Ordenar por referencia">
            Referencia
        </th>
        <td class="center"
            mat-cell
            *matCellDef="let element"> {{element.referencia}} </td>
    </ng-container>

    <!-- Nombre -->
    <ng-container matColumnDef="nombre">
        <th class="center"
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            sortActionDescription="Ordenar por nombre">
            Nombre
        </th>
        <td class="center"
            mat-cell
            *matCellDef="let element"> {{element.nombre}} </td>
    </ng-container>

    <!-- Stock -->
    <ng-container matColumnDef="stock">
        <th class="center"
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            sortActionDescription="Ordenar por stock">
            Stock
        </th>
        <td class="center"
            mat-cell
            *matCellDef="let element"> {{element.stock}} </td>
    </ng-container>

    <!-- PVP -->
    <ng-container matColumnDef="pvp">
        <th class="center"
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            sortActionDescription="Ordenar por PVP">
            PVP
        </th>
        <td class="center"
            mat-cell
            *matCellDef="let element"> {{element.pvp | fixedNumber}} â‚¬ </td>
    </ng-container>

    <!-- Margen -->
    <ng-container matColumnDef="margen">
        <th class="center"
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            sortActionDescription="Ordenar por margen">
            Margen
        </th>
        <td class="center"
            mat-cell
            *matCellDef="let element"> {{element.margen | fixedNumber}} % </td>
    </ng-container>

    <tr mat-header-row
        *matHeaderRowDef="inventarioDisplayedColumns"></tr>
    <tr mat-row
        *matRowDef="let row; columns: inventarioDisplayedColumns; let i = index;"></tr>
</table>
<mat-paginator [length]="pags"
               [pageSize]="20"
               [pageSizeOptions]="[20]"
               (page)="changePage($event)">
</mat-paginator>